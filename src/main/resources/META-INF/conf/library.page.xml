<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-3.0"
      name="${library}">
    <toolbar place="topRight">
        <button id="add" label="${addBook}" color="primary" widget-id="books">
            <open-page page-id="bookForm"
                       submit-operation-id="saveBook"
                       upload="defaults"/>
        </button>
    </toolbar>
    <regions>

        <form id="filters">
            <fields>
                <pills id="categories" no-label-block="true">
                    <options>
                        <option id="1" name="Business"/>
                        <option id="2" name="Programming"/>
                    </options>
                </pills>
            </fields>
        </form>

        <cards id="books" route="/books" query-id="books?sort=b.id" object-id="book"
               height="250" vertical-align="top">
            <pagination/>
            <actions>
                <action id="view">
                    <open-page page-id="bookCard" route="/:book_id/view" object-id="book">
                        <path-param name="book_id" value="{id}"/>
                    </open-page>
                </action>
            </actions>
            <content>
                <col size="2">
                    <block>
                        <image data="{cover}" action-id="view">

                        </image>
                    </block>
                </col>
                <col size="9">
                    <block text-field-id="title">
                        <link class="font-weight-bold" action-id="view"/>
                    </block>
                    <block text-field-id="authors">
                        <text/>
                    </block>
                    <block text-field-id="rating">
                        <rating half="true"/>
                    </block>
                    <block text-field-id="description">
                        <link action-id="view"/>
                    </block>
                </col>
                <col size="1">
                    <block>
                        <toolbar>
                            <button id="wantToRead"
                                    label="${wantToRead}" icon="fa fa-heart-o" type="icon"
                                    visible="{!memberWantToRead}">
                                <invoke operation-id="wantToRead" route="/wantToRead" message-on-success="false"/>
                            </button>
                            <button id="doNotWantToRead"
                                    label="${doNotWantToRead}" icon="fa fa-heart" type="icon"
                                    visible="{memberWantToRead}">
                                <invoke operation-id="doNotWantToRead" route="/doNotWantToRead" message-on-success="false"/>
                            </button>
                        </toolbar>
                    </block>
                    <block>
                        <toolbar>
                            <button id="haveread"
                                    label="${haveRead}" icon="fa fa-bookmark-o" type="icon"
                                    visible="{!memberHaveRead}">
                                <invoke operation-id="haveRead" route="/haveRead" message-on-success="false"/>
                            </button>
                            <button id="haveNotRead"
                                    label="${haveNotRead}" icon="fa fa-bookmark" type="icon"
                                    visible="{memberHaveRead}">
                                <invoke operation-id="haveNotRead" route="/haveNotRead" message-on-success="false"/>
                            </button>
                        </toolbar>
                    </block>
                    <block text-field-id="status">
                        <badge class="text-uppercase">
                            <switch value-field-id="status">
                                <case value="NOT_AVAILABLE">warning</case>
                            </switch>
                        </badge>
                    </block>
                </col>
            </content>
        </cards>
    </regions>
</page>
