<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-3.0"
      name="${addBook}">
    <regions>
        <form object-id="book">
            <fields>
                <input-select id="search" label="${findBook}"
                              placeholder="${findBookPlaceholder}"
                              query-id="bookSearch"
                              label-field-id="title"
                              image-field-id="cover"
                              description-field-id="authorsString"
                              search-filter-id="query">

                </input-select>
                <set>
                    <image-upload id="cover" label="${cover}" required="true"
                                  upload-url="/images/convert">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">
                                var o = {};
                                o.url = search.cover;
                                return o;
                            </set-value>
                        </dependencies>
                    </image-upload>
                    <input-text id="title" label="${title}" required="true">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.title</set-value>
                        </dependencies>
                    </input-text>
                    <auto-complete id="authors" label="${author}" tags="true"
                                   max-tag-text-length="30" required="true">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.authors</set-value>
                        </dependencies>
                    </auto-complete>
                    <text-area id="description" label="${description}" min-rows="5">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.description</set-value>
                        </dependencies>
                    </text-area>
                </set>
                <line collapsible="false">
                    <input-text id="publisher" label="${publisher}">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.publisher</set-value>
                        </dependencies>
                    </input-text>
                    <input-text id="published" label="${published}" domain="integer">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.published</set-value>
                        </dependencies>
                    </input-text>
                    <radio-group id="language" label="${language}" inline="true">
                        <options>
                            <option id="EN" name="${english}"/>
                            <option id="RU" name="${russian}"/>
                        </options>
                    </radio-group>
                </line>
                <set>
                    <input-text id="pageCount" label="${pageCount}" domain="integer">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.pageCount</set-value>
                        </dependencies>
                    </input-text>
                    <input-text id="previewUrl" label="${previewUrl}">
                        <dependencies>
                            <set-value on="search" apply-on-init="false">search.previewLink</set-value>
                        </dependencies>
                    </input-text>
                </set>
                <line collapsible="false">
                    <auto-complete id="categories" label="${categories}"
                                   tags="true" max-tag-text-length="30"/>
                    <radio-group id="status" label="${status}" inline="true">
                        <default-value id="ADDED"/>
                        <options>
                            <option id="ADDED" name="${added}"/>
                            <option id="AVAILABLE" name="${available}"/>
                            <option id="RENTED" name="${rented}"/>
                            <option id="DELETED" name="${deleted}"/>
                        </options>
                    </radio-group>
                </line>
            </fields>
        </form>
    </regions>
</page>
