<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-3.0"
      name="{title}">
    <regions>
        <form id="book" query-id="bookCard" object-id="book">
            <fields>
                <row>
                    <col size="1"></col>
                    <col size="2">
                        <field id="coverField" no-label-block="true">
                            <controls>
                                <image id="coverImg" data="{cover}"/>
                            </controls>
                        </field>
                        <rating id="memberRating" no-label-block="true" half="true" >
                            <submit operation-id="rateBook" route="/rate">
                                <form-param id="rate" value="{memberRating}"/>
                            </submit>
                        </rating>
                        <button id="preview" label="${readSnippet}" visible="{previewUrl}">
                            <a href=":previewUrl" target="newWindow">
                                <path-param name="previewUrl" value="{previewUrl}"/>
                            </a>
                        </button>
                        <button id="wantToRead" label="${wantToRead}" icon="fa fa-heart">
                            <invoke operation-id="wantToRead"/>
                        </button>
                        <button id="haveRead" label="${haveRead}" icon="fa fa-book">
                            <invoke operation-id="haveRead"/>
                        </button>
                        <button id="edit" label="${edit}">

                        </button>
                    </col>
                    <col size="7">
                        <set>
                            <row>
                                <col size="10">
                                    <text id="titleTxt" class="h2">{title}</text>
                                </col>
                                <col size="2">
                                    <field id="status" class="pull-right">
                                        <controls>
                                            <output-text id="status" no-label-block="true" class="badge badge-success"/>
                                        </controls>
                                    </field>
                                </col>
                            </row>
                        </set>
                        <set>
                            <row>
                                <text id="authors" class="h6">{authors}</text>
                                <col size="3">
                                    <set field-label-location="left" field-label-width="20px">
                                        <field id="createdBy" class="pull-right" label-class="text-muted" label="${by}">
                                            <controls>
                                                <output-text id="createdBy"/>
                                            </controls>
                                        </field>
                                    </set>
                                </col>
                            </row>
                        </set>
                        <set>
                            <row>
                                <col size="1">
                                    <output-text id="rating" icon="fa fa-star" no-label-block="true"/>
                                </col>
                                <col size="1">
                                    <output-text id="wanttoread" icon="fa fa-heart" no-label-block="true"/>
                                </col>
                                <col size="1">
                                    <output-text id="haveread" icon="fa fa-book" no-label-block="true"/>
                                </col>
                                <col size="6"/>
                            </row>
                        </set>
                        <set label="${aboutBook}">
                            <text id="descriptionTxt">{description}</text>
                        </set>
                        <set label="${additionalInfo}"
                             field-label-align="left"
                             field-label-location="left"
                             field-label-width="200px">
                            <row>
                                <col>
                                    <output-text id="publisher" label="${publisher}"/>
                                    <output-text id="published" label="${published}"/>
                                </col>
                                <col>
                                    <output-text id="language" label="${language}"/>
                                    <output-text id="pageCount" label="${pageCount}"/>
                                </col>
                            </row>
                        </set>
                        <set label="${categories}">
<!--                            <output-list id="categories" label-field-id="name" href-field-id="href" separator=","/>-->
                            <output-text id="categories" no-label-block="true"/>
                        </set>
                    </col>
                    <col size="2"></col>
                </row>

            </fields>
            <pre-filters>
                <eq field-id="id" param="book_id"/>
            </pre-filters>
        </form>
    </regions>
</page>
